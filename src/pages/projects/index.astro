---
import { getCollection } from "astro:content";
import Layout from "../../components/Layout.astro";
import Icon from "../../components/Icon.astro";
const allProjects = await getCollection("projects");
if (allProjects) {
	allProjects.sort(function (a, b) {
		return new Date(b.data.updatedAt) - new Date(a.data.updatedAt);
	});
}
const tags = {
	title: "Projects | Chris LaRocque",
	description:
		"All the various web development projects I've worked on. Includes guides for implementing things yourself, as well as general findings I found helpful and wanted to share.",
};
---

<Layout tags={tags}>
	<main>
		<section>
			<h1 class="border-b-2 border-white py-4">Projects</h1>
			<p class="max-w-[66 ch]">
				All the various web development projects I've worked on.
				Includes guides for implementing things yourself, as well as
				general findings I found helpful and wanted to share.
			</p>
		</section>
		<section class="lg:flex lg:flex-wrap">
			{
				allProjects.map(({ slug, data }) => {
					const { title, description } = data;
					return (
						<div class="basis-1/3 group p-5 py-7 hover:bg-zinc-600 rounded-md">
							<a href={`/projects/${slug}`}>
								<h2 class="text-2xl font-bold tracking-tight mb-4">
									{title}
								</h2>
								<p class="mb-5">{description}</p>
								<Icon
									icon="arrow"
									className="group-hover:translate-x-3 transition-all duration-300"
								/>
							</a>
						</div>
					);
				})
			}
		</section>
	</main>
</Layout>
